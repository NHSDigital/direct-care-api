# direct care api

This project contains the POC code for the direct care api.   
It uses SAM for deployment and runs everything in a vscode dev container

## Getting started
Clone the repository and open it in vscode in a dev container

## Running locally
Use the command `make up` to bring everything up.   
Use the command `make down` to stop everything.   
Use the command `make test` to run local unit tests (needs `make up` running before).   

Logs from make up are in `logs/api.log` and `logs/lambda.log`

## Deploy the application

TO DO

## Fetch, tail, and filter Lambda function logs

TO DO

To simplify troubleshooting, SAM CLI has a command called `sam logs`. `sam logs` lets you fetch logs generated by your deployed Lambda function from the command line. In addition to printing the logs on the terminal, this command has several nifty features to help you quickly find the bug.

`NOTE`: This command works for all AWS Lambda functions; not just the ones you deploy using SAM.

```bash
lambda-python3.9$ sam logs -n HelloWorldFunction --stack-name lambda-python3.9 --tail
```

You can find more information and examples about filtering Lambda function logs in the [SAM CLI Documentation](https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-logging.html).

## Tests

## Cleanup

TO DO.   

To delete the sample application that you created, use the AWS CLI. Assuming you used your project name for the stack name, you can run the following:

```bash
aws cloudformation delete-stack --stack-name lambda-python3.9
```

